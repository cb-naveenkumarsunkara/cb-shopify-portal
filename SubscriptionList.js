import{d as I,f as p,g as d,t as c,a as $,v as o,o as T,r as B,j as r,l as s,x as L,F as E,i as N,h as a,y as f,w as h,R as M,z as H,A as R,B as V,C as m,P as A}from"./index.js";import{_ as k}from"./plugin-vue_export-helper.js";import{S as F}from"./Spinner.js";const j={class:"c-shopify-header"},q=I({props:{title:null},setup(u){return(_,e)=>(p(),d("div",j,c(u.title),1))}});var z=k(q,[["__scopeId","data-v-cee2722c"]]);const D=u=>(H("data-v-39531fb0"),u=u(),R(),u),G={class:"c-subscription-card"},O={key:1},U=D(()=>a("hr",null,null,-1)),J={class:"c-subscription-pagination"},K={class:"c-subscription-button"},Q={class:"c-subscription-button__content__text"},W={class:"c-subscription-button__content__text"},X=I({setup(u){const _=A.SUBSCRIPTIONS,e=$(),v=o(()=>e.getters.authToken),b=o(()=>e.getters.urlParams),S=o(()=>e.getters.isSubscriptionLoading);T(async()=>{var t;await e.dispatch("listSubscription",{customerId:(t=b.value)==null?void 0:t.customer_id,authenticationToken:v.value})});const y=o(()=>!e.getters.subscriptions.pageInfo.hasPreviousPage),w=o(()=>!e.getters.subscriptions.pageInfo.hasNextPage),l=B(0),P=o(()=>e.getters.subscriptions),x=o(()=>Math.ceil(e.getters.subscriptions.pageInfo.maxCount/7)),C=o(()=>{const t=e.getters.subscriptions;return t.pageInfo.currentEnd%7===0?t.pageInfo.currentEnd/7:Math.floor(t.pageInfo.currentEnd/7)+1}),g=async t=>{var n,i;switch(window.scrollTo(0,0),t){case"next":l.value=l.value+_,await e.dispatch("listSubscription",{customerId:(n=b.value)==null?void 0:n.customer_id,authenticationToken:v.value,after:l.value});break;case"prev":l.value=l.value-_,await e.dispatch("listSubscription",{customerId:(i=b.value)==null?void 0:i.customer_id,authenticationToken:v.value,after:l.value});break}};return(t,n)=>(p(),d("div",G,[r(z,{title:t.$t("portal.subscriptions")},null,8,["title"]),s(S)?(p(),L(F,{key:0})):(p(),d("div",O,[(p(!0),d(E,null,N(s(P).subscriptionList,i=>(p(),d("div",{key:i.id},[r(s(V),{key:"test",product:i,labels:{quantity:"units"},class:"c-shopify-subscriptions"},null,8,["product"])]))),128)),U,a("div",J,[a("div",null,c(t.$t("portal.showing"))+" "+c(s(C))+" "+c(t.$t("portal.to"))+" "+c(s(x)),1),a("div",K,[r(s(f),{onClick:n[0]||(n[0]=i=>g("prev")),disabled:s(y),class:"c-subscription-button__content"},{default:h(()=>[a("div",Q,[r(s(m)),a("div",null,c(t.$t("portal.latest")),1)])]),_:1},8,["disabled"]),r(s(f),{onClick:n[1]||(n[1]=i=>g("next")),disabled:s(w),class:"c-subscription-button__content"},{default:h(()=>[a("div",W,[a("div",null,c(t.$t("portal.older")),1),r(s(m),{class:"c-subscription-front-arrow"})])]),_:1},8,["disabled"])])])])),r(s(M))]))}});var et=k(X,[["__scopeId","data-v-39531fb0"]]);export{et as default};
