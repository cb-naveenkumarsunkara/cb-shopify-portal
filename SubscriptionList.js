import{d as m,o as d,e as p,t as c,u as $,q as o,s as T,r as E,h as n,j as e,v as L,F as B,g as N,f as a,y as h,w as f,R as M,x as V,z as q,A as F,B as I,P as H}from"./index.js";import{_ as k}from"./plugin-vue_export-helper.js";const R={class:"c-shopify-header"},A=m({props:{title:null},setup(u){return(_,s)=>(d(),p("div",R,c(u.title),1))}});var j=k(A,[["__scopeId","data-v-cee2722c"]]);const z=u=>(V("data-v-0ddbb800"),u=u(),q(),u),D={class:"c-subscription-card"},G={key:0,class:"c-spinner-container"},O={key:1},U=z(()=>a("hr",null,null,-1)),J={class:"c-subscription-pagination"},K={class:"c-subscription-button"},Q={class:"c-subscription-button__content__text"},W={class:"c-subscription-button__content__text"},X=m({setup(u){const _=H.SUBSCRIPTIONS,s=$(),v=o(()=>s.getters.authToken),b=o(()=>s.getters.urlParams),y=o(()=>s.getters.isSubscriptionLoading);T(async()=>{var t;await s.dispatch("listSubscription",{customerId:(t=b.value)==null?void 0:t.customer_id,authenticationToken:v.value})});const S=o(()=>!s.getters.subscriptions.pageInfo.hasPreviousPage),w=o(()=>!s.getters.subscriptions.pageInfo.hasNextPage),l=E(0),P=o(()=>s.getters.subscriptions),x=o(()=>Math.ceil(s.getters.subscriptions.pageInfo.maxCount/7)),C=o(()=>{const t=s.getters.subscriptions;return t.pageInfo.currentEnd%7===0?t.pageInfo.currentEnd/7:Math.floor(t.pageInfo.currentEnd/7)+1}),g=async t=>{var i,r;switch(document.querySelector(".c-subscription-card").scrollIntoView({behavior:"smooth"}),t){case"next":l.value=l.value+_,await s.dispatch("listSubscription",{customerId:(i=b.value)==null?void 0:i.customer_id,authenticationToken:v.value,after:l.value});break;case"prev":l.value=l.value-_,await s.dispatch("listSubscription",{customerId:(r=b.value)==null?void 0:r.customer_id,authenticationToken:v.value,after:l.value});break}};return(t,i)=>(d(),p("div",D,[n(j,{title:t.$t("portal.subscriptions")},null,8,["title"]),e(y)?(d(),p("div",G,[n(e(L),{fill:"#4F46E5",class:"c-spinner"})])):(d(),p("div",O,[(d(!0),p(B,null,N(e(P).subscriptionList,r=>(d(),p("div",{key:r.id},[n(e(F),{key:"test",product:r,labels:{quantity:"units"},class:"c-shopify-subscriptions"},null,8,["product"])]))),128)),U,a("div",J,[a("div",null,c(t.$t("portal.showing"))+" "+c(e(C))+" "+c(t.$t("portal.to"))+" "+c(e(x)),1),a("div",K,[n(e(h),{onClick:i[0]||(i[0]=r=>g("prev")),disabled:e(S),class:"c-subscription-button__content"},{default:f(()=>[a("div",Q,[n(e(I)),a("div",null,c(t.$t("portal.latest")),1)])]),_:1},8,["disabled"]),n(e(h),{onClick:i[1]||(i[1]=r=>g("next")),disabled:e(w),class:"c-subscription-button__content"},{default:f(()=>[a("div",W,[a("div",null,c(t.$t("portal.older")),1),n(e(I),{class:"c-subscription-front-arrow"})])]),_:1},8,["disabled"])])])])),n(e(M))]))}});var tt=k(X,[["__scopeId","data-v-0ddbb800"]]);export{tt as default};
