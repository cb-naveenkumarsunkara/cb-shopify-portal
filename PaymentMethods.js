import{S as P}from"./Spinner.js";import{_ as f}from"./plugin-vue_export-helper.js";import{d as S,f as t,g as a,G as p,h as l,t as k,s as g,y as M,M as _,r as u,a as E,v as y,S as I,w as T,l as c,F as x,i as N,j as O}from"./index.js";import{M as B}from"./MethodCard.js";const D={class:"index-page"},$={key:0},C={key:1,class:"cb-header"},L={key:"content"},b=S({props:{header:String,inited:Boolean},setup(s){return(e,o)=>(t(),a("div",D,[e.$slots.header?(t(),a("div",$,[p(e.$slots,"header",{},void 0,!0)])):s.header?(t(),a("div",C,[l("h1",null,k(s.header),1)])):g("",!0),l("div",null,[l("div",null,[s.inited?(t(),a("div",L,[p(e.$slots,"default",{},void 0,!0)])):(t(),M(P,{key:1}))])])]))}});var A=f(b,[["__scopeId","data-v-6eadbd9b"]]);const w={[_.PAYMENT_METHODS]:"listPaymentmethod",[_.SUBSCRIPTIONS]:"listSubscriptions"};function F(s){const e=u(null),o=u(null),r=u(!1),d=E(),m=y(()=>d.getters.authToken),i=y(()=>d.getters.urlParams);async function n(){var h;e.value=null,o.value=null,r.value=!0;try{e.value=await I[w[s]](m.value,(h=i.value)==null?void 0:h.customer_id)}catch(v){v.value=v}finally{r.value=!1}}return n(),[e,o,r,n]}const U={key:0,class:"pm-main-container"},V=S({setup(s){const[e,o,r]=F(_.PAYMENT_METHODS);return(d,m)=>(t(),M(A,{header:d.$t("portal.payment_methods"),inited:!c(r)},{default:T(()=>{var i;return[(i=c(e))!=null&&i.customerPaymentMethods?(t(),a("div",U,[(t(!0),a(x,null,N(c(e).customerPaymentMethods,n=>(t(),a("div",{key:n.id},[O(B,{pm:n},null,8,["pm"])]))),128))])):g("",!0)]}),_:1},8,["header","inited"]))}});var G=f(V,[["__scopeId","data-v-3c374ada"]]);export{G as default};
