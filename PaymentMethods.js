import{S as P}from"./Spinner.js";import{_ as f}from"./plugin-vue_export-helper.js";import{d as S,f as t,g as a,G as p,h as u,t as k,s as g,y as M,M as _,r as i,a as E,v as y,S as I,w as T,l as c,F as x,i as N,j as O}from"./index.js";import{M as B}from"./MethodCard.js";const D={class:"index-page"},$={key:0},C={key:1,class:"cb-header"},L={key:"content"},A=S({props:{header:String,inited:Boolean},setup(s){return(e,o)=>(t(),a("div",D,[e.$slots.header?(t(),a("div",$,[p(e.$slots,"header",{},void 0,!0)])):s.header?(t(),a("div",C,[u("h1",null,k(s.header),1)])):g("",!0),u("div",null,[u("div",null,[s.inited?(t(),a("div",L,[p(e.$slots,"default",{},void 0,!0)])):(t(),M(P,{key:1}))])])]))}});var b=f(A,[["__scopeId","data-v-2a4b5488"]]);const w={[_.PAYMENT_METHODS]:"listPaymentmethod",[_.SUBSCRIPTIONS]:"listSubscriptions"};function F(s){const e=i(null),o=i(null),n=i(!1),l=E(),m=y(()=>l.getters.authToken),d=y(()=>l.getters.urlParams);async function r(){var h;e.value=null,o.value=null,n.value=!0;try{e.value=await I[w[s]](m.value,(h=d.value)==null?void 0:h.customer_id,null,null,null,null,null,null,null,null,!0)}catch(v){v.value=v}finally{n.value=!1}}return r(),[e,o,n,r]}const U={key:0,class:"pm-main-container"},V=S({setup(s){const[e,o,n]=F(_.PAYMENT_METHODS);return(l,m)=>(t(),M(b,{header:l.$t("portal.payment_methods"),inited:!c(n)},{default:T(()=>{var d;return[(d=c(e))!=null&&d.customerPaymentMethods?(t(),a("div",U,[(t(!0),a(x,null,N(c(e).customerPaymentMethods,r=>(t(),a("div",{key:r.id},[O(B,{pm:r},null,8,["pm"])]))),128))])):g("",!0)]}),_:1},8,["header","inited"]))}});var G=f(V,[["__scopeId","data-v-c4e3a6ac"]]);export{G as default};
